  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreatePosts (20190504112246)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "content" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504112246_create_posts.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190504112246"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-05-04 11:23:28.116777"], ["updated_at", "2019-05-04 11:23:28.116777"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (49.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Started GET "/" for ::1 at 2019-05-04 20:24:33 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (28.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ↳ app/views/posts/index.html.erb:15
  Rendered posts/index.html.erb within layouts/application (74.3ms)
Completed 200 OK in 2758ms (Views: 2561.7ms | ActiveRecord: 29.2ms)


Started GET "/posts/new" for ::1 at 2019-05-04 20:24:42 +0900
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (154.8ms)
  Rendered posts/new.html.erb within layouts/application (157.0ms)
Completed 200 OK in 249ms (Views: 218.3ms | ActiveRecord: 0.5ms)


Started GET "/posts/new" for ::1 at 2019-05-04 20:36:18 +0900
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (2.5ms)
  Rendered posts/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 106ms (Views: 83.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreateFileStorageTables (20190504211915)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20190504211915_create_file_storage_tables.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "file_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "record_type" varchar, "record_id" integer, "location" integer DEFAULT 0 NOT NULL, "namespace" varchar DEFAULT '' NOT NULL, "original_filename" varchar, "filename" varchar, "filepath" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504211915_create_file_storage_tables.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_file_storage_attachments_on_record_id" ON "file_storage_attachments" ("record_id")[0m
  ↳ db/migrate/20190504211915_create_file_storage_tables.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190504211915"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreateFileStorageTables (20190504143052)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20190504143052_create_file_storage_tables.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "file_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "record_type" varchar, "record_id" integer, "location" integer DEFAULT 0 NOT NULL, "namespace" varchar DEFAULT '' NOT NULL, "original_filename" varchar, "filename" varchar, "filepath" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504143052_create_file_storage_tables.rb:3
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreatePosts (20190504112246)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "content" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504112246_create_posts.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190504112246"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (156.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreateFileStorageTables (20190504143052)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "file_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "record_type" varchar, "record_id" integer, "location" integer DEFAULT 0 NOT NULL, "namespace" varchar DEFAULT '' NOT NULL, "original_filename" varchar, "filename" varchar, "filepath" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504143052_create_file_storage_tables.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_file_storage_attachments_on_record_id" ON "file_storage_attachments" ("record_id")[0m
  ↳ db/migrate/20190504143052_create_file_storage_tables.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190504143052"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-05-04 14:32:54.682574"], ["updated_at", "2019-05-04 14:32:54.682574"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreatePosts (20190504112246)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "content" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504112246_create_posts.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190504112246"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Migrating to CreateFileStorageTables (20190504150248)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "file_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "location" integer DEFAULT 0 NOT NULL, "namespace" varchar DEFAULT '' NOT NULL, "original_filename" varchar, "filename" varchar, "filepath" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20190504150248_create_file_storage_tables.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190504150248"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (20.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-05-04 15:02:56.953220"], ["updated_at", "2019-05-04 15:02:56.953220"]]
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/rake-12.3.2/lib/rake/task.rb:273
Started GET "/posts/new" for ::1 at 2019-05-05 00:04:38 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (17.3ms)
  Rendered posts/new.html.erb within layouts/application (20.7ms)
Completed 200 OK in 385ms (Views: 331.1ms | ActiveRecord: 0.6ms)


Started GET "/posts/new" for ::1 at 2019-05-05 01:18:26 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (19.4ms)
  Rendered posts/new.html.erb within layouts/application (30.2ms)
Completed 200 OK in 465ms (Views: 355.5ms | ActiveRecord: 0.6ms)


Started GET "/posts/new" for ::1 at 2019-05-05 01:18:28 +0900
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (2.3ms)
  Rendered posts/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPost Create (25.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "1"], ["content", "1"], ["created_at", "2019-05-04 16:18:56.731170"], ["updated_at", "2019-05-04 16:18:56.731170"]]
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
Started GET "/posts/new" for ::1 at 2019-05-05 01:59:12 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (80.5ms)
  Rendered posts/new.html.erb within layouts/application (83.2ms)
Completed 200 OK in 963ms (Views: 819.4ms | ActiveRecord: 0.7ms)


Started GET "/posts" for ::1 at 2019-05-05 01:59:27 +0900
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ↳ app/views/posts/index.html.erb:15
  Rendered posts/index.html.erb within layouts/application (59.6ms)
Completed 200 OK in 142ms (Views: 123.3ms | ActiveRecord: 0.3ms)


Started GET "/posts/1/edit" for ::1 at 2019-05-05 01:59:31 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (3.5ms)
  Rendered posts/edit.html.erb within layouts/application (14.8ms)
Completed 200 OK in 113ms (Views: 35.2ms | ActiveRecord: 0.3ms)


Started GET "/posts/1/edit" for ::1 at 2019-05-05 01:59:55 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (2.3ms)
  Rendered posts/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.1ms)


Started PATCH "/posts/1" for ::1 at 2019-05-05 02:00:28 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UWETPfpjuc9ZuCrApICQi4nzlZn2kEP+pbEUSX5FTvGXrxRktKmRRUyA4UE6GFnpI515VuA+pHDe3Wm2DSuLsQ==", "post"=>{"title"=>"has a resume", "content"=>"has a resume test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007ffc8c70e2d0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-28195-etn99j.png>, @original_filename="170630_workspace_banner_pc.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"170630_workspace_banner_pc.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Update Post", "id"=>"1"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Completed 500 Internal Server Error in 127ms (ActiveRecord: 0.4ms)


  
NameError (uninitialized constant FileStorage::Attachment):
  
app/controllers/posts_controller.rb:44:in `block in update'
app/controllers/posts_controller.rb:43:in `update'
Started PATCH "/posts/1" for ::1 at 2019-05-05 02:02:15 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UWETPfpjuc9ZuCrApICQi4nzlZn2kEP+pbEUSX5FTvGXrxRktKmRRUyA4UE6GFnpI515VuA+pHDe3Wm2DSuLsQ==", "post"=>{"title"=>"has a resume", "content"=>"has a resume test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007ffad9614af0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-45879-17izfo8.png>, @original_filename="170630_workspace_banner_pc.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"170630_workspace_banner_pc.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Update Post", "id"=>"1"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Completed 500 Internal Server Error in 107ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `namespace' for #<Post:0x00007ffadbb31b30>):
  
app/controllers/posts_controller.rb:44:in `block in update'
app/controllers/posts_controller.rb:43:in `update'
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
Started PATCH "/posts/1" for ::1 at 2019-05-05 02:13:27 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UWETPfpjuc9ZuCrApICQi4nzlZn2kEP+pbEUSX5FTvGXrxRktKmRRUyA4UE6GFnpI515VuA+pHDe3Wm2DSuLsQ==", "post"=>{"title"=>"has a resume", "content"=>"has a resume test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fab072c2450 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-50856-1c1mxx1.png>, @original_filename="170630_workspace_banner_pc.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"170630_workspace_banner_pc.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Update Post", "id"=>"1"}
  [1m[36mPost Load (8.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 1], ["name", "resume"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:93
  [1m[36mFileStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 1], ["namespace", "post/1/2019-05-04"], ["original_filename", "170630_workspace_banner_pc.png"], ["filename", "170630_workspace_banner_pc.png"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/1/2019-05-04/170630_workspace_banner_pc.png"], ["created_at", "2019-05-04 17:13:28.038044"], ["updated_at", "2019-05-04 17:13:28.038044"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:93
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "title" = ?, "content" = ?, "updated_at" = ? WHERE "posts"."id" = ?[0m  [["title", "has a resume"], ["content", "has a resume test"], ["updated_at", "2019-05-04 17:13:28.042714"], ["id", 1]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mPost Update (1.0ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-04 17:13:28.042259"], ["id", 1]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Redirected to http://localhost:3000/posts/1
Completed 302 Found in 224ms (ActiveRecord: 13.9ms)


Started GET "/posts/1" for ::1 at 2019-05-05 02:13:28 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 431ms (Views: 376.6ms | ActiveRecord: 0.2ms)


  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Destroy (22.6ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mPost Update (0.5ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-04 17:28:02.693927"], ["id", 1]]
  [1m[35m (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
Started GET "/posts/1/edit" for ::1 at 2019-05-05 02:30:57 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (35.1ms)
  Rendered posts/edit.html.erb within layouts/application (80.1ms)
Completed 200 OK in 1350ms (Views: 1153.5ms | ActiveRecord: 0.8ms)


Started PATCH "/posts/1" for ::1 at 2019-05-05 02:31:16 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wjJASG0bk4i7rw2BB6r+8FJ1pCTG7qLH081XB45+1Z22Z+fILYiALDbB8ga0Wp/2Oao7IlM26VMOZcNj+15FQw==", "post"=>{"title"=>"has a resume", "content"=>"has a resume test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007febdf03a020 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-70206-12385sv.jpg>, @original_filename="cat.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"cat.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Post", "id"=>"1"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 1], ["name", "resume"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:93
  [1m[36mFileStorage::Attachment Create (33.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 1], ["namespace", "post/1/2019-05-04"], ["original_filename", "cat.jpg"], ["filename", "cat.jpg"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/1/2019-05-04/cat.jpg"], ["created_at", "2019-05-04 17:31:16.356195"], ["updated_at", "2019-05-04 17:31:16.356195"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:93
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-04 17:31:16.390916"], ["id", 1]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Redirected to http://localhost:3000/posts/1
Completed 302 Found in 206ms (ActiveRecord: 51.8ms)


Started GET "/posts/1" for ::1 at 2019-05-05 02:31:16 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 93ms (Views: 53.7ms | ActiveRecord: 0.1ms)


  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 2]]
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-04 17:34:47.047098"], ["id", 1]]
  [1m[35m (13.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
Started GET "/posts" for ::1 at 2019-05-05 02:51:07 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (26.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ↳ app/views/posts/index.html.erb:15
  Rendered posts/index.html.erb within layouts/application (115.5ms)
Started GET "/posts" for ::1 at 2019-05-05 02:51:07 +0900
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ↳ app/views/posts/index.html.erb:15
  Rendered posts/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 628ms (Views: 481.9ms | ActiveRecord: 27.2ms)


Completed 200 OK in 148ms (Views: 146.6ms | ActiveRecord: 0.2ms)


Started GET "/posts/new" for ::1 at 2019-05-05 02:51:11 +0900
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (31.1ms)
  Rendered posts/new.html.erb within layouts/application (32.9ms)
Completed 200 OK in 93ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started POST "/posts" for ::1 at 2019-05-05 02:51:55 +0900
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LwtOstdh8a6egxuLAjhztRlrQqUn9vDSUNmNKSTbsxV/v/Gxt1wvDP02mHxzLoR8JXQGrs/HKZwV7EvnGfxORw==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fd9194160a0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-94063-sz16yu.png>, @original_filename="스크린샷 2019-03-09 오전 1.13.38.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"\xE1\x84\x89\xE1\x85\xB3\xE1\x84\x8F\xE1\x85\xB3\xE1\x84\x85\xE1\x85\xB5\xE1\x86\xAB\xE1\x84\x89\xE1\x85\xA3\xE1\x86\xBA 2019-03-09 \xE1\x84\x8B\xE1\x85\xA9\xE1\x84\x8C\xE1\x85\xA5\xE1\x86\xAB 1.13.38.png\"\r\nContent-Type: image/png\r\n">, "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fd919415fb0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-94063-18aduuk.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fd919415ee8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-94063-1rlzr1y.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fd919415e98 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-94063-1we66fd.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Create Post"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `resume_attachment' for #<Post:0x00007fd919455098>
Did you mean?  resume_file):
  
app/controllers/posts_controller.rb:27:in `create'
Started POST "/posts" for ::1 at 2019-05-05 03:51:36 +0900
  [1m[35m (59.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PvZR3IZf1ADMI+zbzS+jw6nVhd6uX2hO3pf2maARIAn4OFaFyJX8itkbJ1pTt2qhA7tpEbjxj8Cl+4tm03/lSQ==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007ffd8a455b20 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-99685-2x64dm.png>, @original_filename="스크린샷 2019-03-09 오전 1.13.38.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"\xE1\x84\x89\xE1\x85\xB3\xE1\x84\x8F\xE1\x85\xB3\xE1\x84\x85\xE1\x85\xB5\xE1\x86\xAB\xE1\x84\x89\xE1\x85\xA3\xE1\x86\xBA 2019-03-09 \xE1\x84\x8B\xE1\x85\xA9\xE1\x84\x8C\xE1\x85\xA5\xE1\x86\xAB 1.13.38.png\"\r\nContent-Type: image/png\r\n">, "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007ffd8a455a30 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-99685-qf7j0t.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007ffd8a455990 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-99685-2tn0vz.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007ffd8a455918 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-99685-1eyrri0.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Create Post"}
Completed 500 Internal Server Error in 941ms (ActiveRecord: 1.6ms)


  
NoMethodError (undefined method `resume_attachment=' for #<Post:0x00007ffd8a4b6088>
Did you mean?  resume_file=):
  
app/controllers/posts_controller.rb:27:in `create'
Started POST "/posts" for ::1 at 2019-05-05 03:53:50 +0900
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PvZR3IZf1ADMI+zbzS+jw6nVhd6uX2hO3pf2maARIAn4OFaFyJX8itkbJ1pTt2qhA7tpEbjxj8Cl+4tm03/lSQ==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fe5a51ad488 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-1fvufyx.png>, @original_filename="스크린샷 2019-03-09 오전 1.13.38.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"\xE1\x84\x89\xE1\x85\xB3\xE1\x84\x8F\xE1\x85\xB3\xE1\x84\x85\xE1\x85\xB5\xE1\x86\xAB\xE1\x84\x89\xE1\x85\xA3\xE1\x86\xBA 2019-03-09 \xE1\x84\x8B\xE1\x85\xA9\xE1\x84\x8C\xE1\x85\xA5\xE1\x86\xAB 1.13.38.png\"\r\nContent-Type: image/png\r\n">, "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fe5a51ad3e8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-1mc3arf.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe5a51ad398 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-1ktl8ie.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe5a51ad348 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-e1mw3j.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Create Post"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Exists (8.7ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" IS NULL AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mCACHE FileStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" IS NULL AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mCACHE FileStorage::Attachment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" IS NULL AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "has many projects"], ["content", "has many test"], ["created_at", "2019-05-04 18:53:52.020559"], ["updated_at", "2019-05-04 18:53:52.020559"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "resume"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post//2019-05-04"], ["original_filename", "스크린샷 2019-03-09 오전 1.13.38.png"], ["filename", "스크린샷 2019-03-09 오전 1.13.38.png"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post//2019-05-04/스크린샷 2019-03-09 오전 1.13.38.png"], ["created_at", "2019-05-04 18:53:52.023719"], ["updated_at", "2019-05-04 18:53:52.023719"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post//2019-05-04"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post//2019-05-04/_MG_7015.JPG"], ["created_at", "2019-05-04 18:53:52.025986"], ["updated_at", "2019-05-04 18:53:52.025986"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/posts_controller.rb:30
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (33.0ms)
  Rendered posts/new.html.erb within layouts/application (46.9ms)
Completed 200 OK in 1277ms (Views: 419.6ms | ActiveRecord: 12.6ms)


Started POST "/posts" for ::1 at 2019-05-05 03:54:31 +0900
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"q3HM1vQ/einf70289BE5EHcxvSkcwjeUk+3iHGGml2dtv8uPuvVSo8rXhj1qifBy3V9R5gps0BrogZ/jEshSJw==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fe5a3eaf818 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-mfy0zu.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Post"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Create (0.4ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "has many projects"], ["content", "has many test"], ["created_at", "2019-05-04 18:54:31.580954"], ["updated_at", "2019-05-04 18:54:31.580954"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "resume"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post//2019-05-04"], ["original_filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post//2019-05-04/KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["created_at", "2019-05-04 18:54:31.583383"], ["updated_at", "2019-05-04 18:54:31.583383"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-04 18:54:31.584548"], ["id", 2]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[35m (128.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:30
Redirected to http://localhost:3000/posts/2
Completed 302 Found in 184ms (ActiveRecord: 129.4ms)


Started GET "/posts/2" for ::1 at 2019-05-05 03:54:32 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 240ms (Views: 19.6ms | ActiveRecord: 0.2ms)


Started GET "/posts/2/edit" for ::1 at 2019-05-05 03:54:49 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (3.1ms)
  Rendered posts/edit.html.erb within layouts/application (36.6ms)
Completed 200 OK in 95ms (Views: 76.3ms | ActiveRecord: 0.1ms)


  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
Started GET "/posts/2/edit" for ::1 at 2019-05-05 11:48:39 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (11.9ms)
  Rendered posts/edit.html.erb within layouts/application (26.1ms)
Completed 200 OK in 177ms (Views: 151.9ms | ActiveRecord: 0.4ms)


Started PATCH "/posts/2" for ::1 at 2019-05-05 11:48:53 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BkR3jrHIS385Ii5hI4gcNd+vBqCrGa96Qx29urqneVLAinDX/wJj9Swa5eC9ENVXdcHqb723SPQ4ccBFycm8Eg==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fe5a3f07ba8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-mrnzgl.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe5a3f079f0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-1umvrlq.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe5a3f077c0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-1717-1177j76.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Update Post", "id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:28
  [1m[36mFileStorage::Attachment Create (24.6ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/2019-05-05"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/2019-05-05/_MG_7015.JPG"], ["created_at", "2019-05-05 02:48:53.938613"], ["updated_at", "2019-05-05 02:48:53.938613"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:28
  [1m[36mFileStorage::Attachment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:28
  [1m[35m (112.7ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Completed 422 Unprocessable Entity in 684ms (ActiveRecord: 138.1ms)


  
ActiveRecord::RecordInvalid (Validation failed: Record has already been taken):
  
app/controllers/posts_controller.rb:44:in `block in update'
app/controllers/posts_controller.rb:43:in `update'
Started GET "/posts/2/edit" for ::1 at 2019-05-05 11:50:48 +0900
  [1m[35m (46.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (44.3ms)
  Rendered posts/edit.html.erb within layouts/application (58.4ms)
Completed 200 OK in 561ms (Views: 488.9ms | ActiveRecord: 0.9ms)


Started PATCH "/posts/2" for ::1 at 2019-05-05 11:51:00 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1oDATHvCc/H9nAKVWgJDZwWH9OVZ0sQAjE7OYHm/vYQQTscVNQhbe+ikyRTEmooFr+kYKk98I473IrOfCtF4xA==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fdc7b78c440 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-28008-do56at.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fdc7b78c210 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-28008-1i1pynw.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fdc7b78c058 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-28008-5bumzl.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Update Post", "id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:28
  [1m[36mFileStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7015.JPG"], ["created_at", "2019-05-05 02:51:01.500455"], ["updated_at", "2019-05-05 02:51:01.500455"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:28
  [1m[36mFileStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."name" = ? AND "file_storage_attachments"."record_type" = ? LIMIT ?[0m  [["record_id", 2], ["name", "projects"], ["record_type", "Post"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:28
  [1m[35m (247.4ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Completed 422 Unprocessable Entity in 1045ms (ActiveRecord: 249.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Record has already been taken):
  
app/controllers/posts_controller.rb:44:in `block in update'
app/controllers/posts_controller.rb:43:in `update'
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (9.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
Started GET "/posts/2/edit" for ::1 at 2019-05-05 12:10:12 +0900
  [1m[35m (17.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (69.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (89.3ms)
  Rendered posts/edit.html.erb within layouts/application (114.3ms)
Completed 200 OK in 1005ms (Views: 631.9ms | ActiveRecord: 70.1ms)


Started GET "/posts/2/edit" for ::1 at 2019-05-05 12:10:17 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (2.8ms)
  Rendered posts/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.2ms)


  [1m[36mPost Load (7.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (8.6ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
Started PATCH "/posts/2" for ::1 at 2019-05-05 12:10:57 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RiJm9phSodBhzWZZRN8xFywEMe7XgRr4ZtUNIVOHM32A7GGv1piJWnT1rdjaR/h1hmrdIcEv/XYduXDeIOn2PQ==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fbf20f47978 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-44692-172e5a6.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fbf20f477c0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-44692-1akue7s.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fbf20f47608 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-44692-3quozx.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Update Post", "id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Create (14.6ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7015.JPG"], ["created_at", "2019-05-05 03:10:57.342950"], ["updated_at", "2019-05-05 03:10:57.342950"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7017.JPG"], ["filename", "_MG_7017.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7017.JPG"], ["created_at", "2019-05-05 03:10:57.413156"], ["updated_at", "2019-05-05 03:10:57.413156"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7019.JPG"], ["filename", "_MG_7019.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7019.JPG"], ["created_at", "2019-05-05 03:10:57.544137"], ["updated_at", "2019-05-05 03:10:57.544137"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 03:10:57.545926"], ["id", 2]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (153.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Redirected to http://localhost:3000/posts/2
Completed 302 Found in 514ms (ActiveRecord: 169.4ms)


Started GET "/posts/2" for ::1 at 2019-05-05 12:10:58 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 297ms (Views: 266.0ms | ActiveRecord: 0.2ms)


  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? ORDER BY "file_storage_attachments"."id" ASC LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? ORDER BY "file_storage_attachments"."id" ASC LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 11]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 4]]
  [1m[36mFileStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 5]]
  [1m[36mFileStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 6]]
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 03:12:56.668103"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/posts/2" for ::1 at 2019-05-05 12:18:02 +0900
  [1m[35m (24.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 998ms (Views: 828.0ms | ActiveRecord: 0.8ms)


Started GET "/posts/2/edit" for ::1 at 2019-05-05 12:18:07 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (66.4ms)
  Rendered posts/edit.html.erb within layouts/application (78.0ms)
Completed 200 OK in 107ms (Views: 94.9ms | ActiveRecord: 0.2ms)


Started PATCH "/posts/2" for ::1 at 2019-05-05 12:18:21 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Nu6mzTm54BU3cVnfkQmzslmj4QQGq6pQIyA4T2MOeAQ6nxJGnDljPo5V0qgqL9Yod1mlwa3Fbfl24BT5/+dWBA==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007f82860cad90 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-56637-dvlhdj.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007f82860cabd8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-56637-13xmt0f.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007f82860ca9a8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-56637-gk27gp.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Update Post", "id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7015.JPG"], ["created_at", "2019-05-05 03:18:22.196256"], ["updated_at", "2019-05-05 03:18:22.196256"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7017.JPG"], ["filename", "_MG_7017.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7017.JPG"], ["created_at", "2019-05-05 03:18:22.209651"], ["updated_at", "2019-05-05 03:18:22.209651"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7019.JPG"], ["filename", "_MG_7019.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7019.JPG"], ["created_at", "2019-05-05 03:18:22.327532"], ["updated_at", "2019-05-05 03:18:22.327532"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 03:18:22.328932"], ["id", 2]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (144.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Redirected to http://localhost:3000/posts/2
Completed 302 Found in 781ms (ActiveRecord: 146.8ms)


Started GET "/posts/2" for ::1 at 2019-05-05 12:18:23 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 350ms (Views: 305.5ms | ActiveRecord: 0.1ms)


  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 7]]
  [1m[36mFileStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 8]]
  [1m[36mFileStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 9]]
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 03:18:58.851607"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/posts/2" for ::1 at 2019-05-05 12:45:27 +0900
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (8.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 643ms (Views: 514.2ms | ActiveRecord: 8.7ms)


  [1m[36mPost Load (9.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (9.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (19.8ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 3]]
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 03:56:14.547749"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/posts/2/edit" for ::1 at 2019-05-05 12:56:33 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (144.3ms)
  Rendered posts/edit.html.erb within layouts/application (158.1ms)
Completed 200 OK in 299ms (Views: 220.7ms | ActiveRecord: 0.2ms)


Started PATCH "/posts/2" for ::1 at 2019-05-05 12:56:43 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cYHrFh6SxUjygFzTfLWuPA61IyPLaxQ3oFBRG5AF7sZ98F+duxJGY0uk16THk8umIE9n5mAF0571kH2tDOzAxg==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fbb8db3a290 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-73291-u3mur1.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Post", "id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/resume/2019-05-05"], ["original_filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/resume/2019-05-05/KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["created_at", "2019-05-05 03:56:44.132734"], ["updated_at", "2019-05-05 03:56:44.132734"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:93
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 03:56:44.135096"], ["id", 2]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Redirected to http://localhost:3000/posts/2
Completed 302 Found in 212ms (ActiveRecord: 3.6ms)


Started GET "/posts/2" for ::1 at 2019-05-05 12:56:44 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 99ms (Views: 58.0ms | ActiveRecord: 0.2ms)


  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
Started GET "/posts/2" for ::1 at 2019-05-05 12:57:49 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  Rendered posts/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 145ms (Views: 142.4ms | ActiveRecord: 0.3ms)


Started GET "/posts/2" for ::1 at 2019-05-05 12:59:54 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:41
  Rendered posts/show.html.erb within layouts/application (70.4ms)
Completed 200 OK in 97ms (Views: 94.3ms | ActiveRecord: 0.6ms)


Started GET "/posts/2/edit" for ::1 at 2019-05-05 12:59:59 +0900
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (3.9ms)
  Rendered posts/edit.html.erb within layouts/application (15.7ms)
Completed 200 OK in 46ms (Views: 32.9ms | ActiveRecord: 0.1ms)


Started PATCH "/posts/2" for ::1 at 2019-05-05 13:00:08 +0900
Processing by PostsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E9A9/wQPZtnSHsUZ/LPCZ5MZpGv6pWjbBjA2sTYNLGgfoYl0oY/l8ms6Tm5Hlaf9vePgrlHLr3JT8BoHquQCaA==", "post"=>{"title"=>"has many projects", "content"=>"has many test", "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fbb8ed24550 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-73291-7xalpy.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fbb8ed24320 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-73291-72yhnz.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fbb8ed24168 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-73291-m73mkd.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Update Post", "id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:44
  [1m[36mFileStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7015.JPG"], ["created_at", "2019-05-05 04:00:08.680264"], ["updated_at", "2019-05-05 04:00:08.680264"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7017.JPG"], ["filename", "_MG_7017.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7017.JPG"], ["created_at", "2019-05-05 04:00:08.714777"], ["updated_at", "2019-05-05 04:00:08.714777"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 2], ["namespace", "post/2/projects/2019-05-05"], ["original_filename", "_MG_7019.JPG"], ["filename", "_MG_7019.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/2/projects/2019-05-05/_MG_7019.JPG"], ["created_at", "2019-05-05 04:00:09.005586"], ["updated_at", "2019-05-05 04:00:09.005586"]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:26
  [1m[36mPost Update (0.4ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 04:00:09.006804"], ["id", 2]]
  ↳ app/controllers/posts_controller.rb:44
  [1m[35m (230.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:44
Redirected to http://localhost:3000/posts/2
Completed 302 Found in 640ms (ActiveRecord: 232.0ms)


Started GET "/posts/2" for ::1 at 2019-05-05 13:00:10 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:41
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "projects"]]
  ↳ app/views/posts/show.html.erb:23
  Rendered posts/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 44ms (Views: 20.2ms | ActiveRecord: 0.7ms)


Started GET "/posts" for ::1 at 2019-05-05 13:00:14 +0900
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ↳ app/views/posts/index.html.erb:15
  Rendered posts/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 42ms (Views: 19.7ms | ActiveRecord: 0.2ms)


Started GET "/posts/new" for ::1 at 2019-05-05 13:00:18 +0900
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (4.1ms)
  Rendered posts/new.html.erb within layouts/application (14.6ms)
Completed 200 OK in 56ms (Views: 34.3ms | ActiveRecord: 0.0ms)


Started POST "/posts" for ::1 at 2019-05-05 13:01:00 +0900
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ndsiz+DslEOUrF1T/o+Els5u29ejM2jg4k+iClS+zw1lb53MgNFK4fcZ3qSPmXNf8nGf3EsCsa6nemTEaZkyXw==", "post"=>{"title"=>"create record test", "content"=>"create record test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fbb8c5af790 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-73291-1s3ykqs.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Post"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Create (0.4ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "create record test"], ["content", "create record test"], ["created_at", "2019-05-05 04:01:00.398013"], ["updated_at", "2019-05-05 04:01:00.398013"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 3], ["namespace", "post//resume/2019-05-05"], ["original_filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post//resume/2019-05-05/KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["created_at", "2019-05-05 04:01:00.399345"], ["updated_at", "2019-05-05 04:01:00.399345"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 04:01:00.400380"], ["id", 3]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[35m (448.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:30
Redirected to http://localhost:3000/posts/3
Completed 302 Found in 461ms (ActiveRecord: 449.3ms)


Started GET "/posts/3" for ::1 at 2019-05-05 13:01:01 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:41
  Rendered posts/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 414ms (Views: 367.5ms | ActiveRecord: 0.7ms)


  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 14]]
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 04:04:23.458667"], ["id", 3]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPost Destroy (1.8ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 3]]
Started POST "/posts" for ::1 at 2019-05-05 13:05:41 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c1p20RwNLiVtg80d4KOyKMYjeMgXqNTRjFwcUfxfjWW1lHGIUscGr3i7Bpx+O3tKbE2UBwEGM1/3MGGujzFIJQ==", "post"=>{"title"=>"create record test", "content"=>"create record test", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fe418a576f8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-2186-y9a3el.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Post"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Create (27.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "create record test"], ["content", "create record test"], ["created_at", "2019-05-05 04:05:42.994080"], ["updated_at", "2019-05-05 04:05:42.994080"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 4], ["namespace", "post/temp/resume/2019-05-05"], ["original_filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/temp/resume/2019-05-05/KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["created_at", "2019-05-05 04:05:43.023712"], ["updated_at", "2019-05-05 04:05:43.023712"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Update (1.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 04:05:43.026502"], ["id", 4]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:30
Redirected to http://localhost:3000/posts/4
Completed 302 Found in 439ms (ActiveRecord: 32.9ms)


Started GET "/posts/4" for ::1 at 2019-05-05 13:05:43 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:41
  Rendered posts/show.html.erb within layouts/application (166.4ms)
Completed 200 OK in 837ms (Views: 663.8ms | ActiveRecord: 0.8ms)


  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mPost Destroy (0.4ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[35m (17.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 10]]
  [1m[36mPost Destroy (0.2ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFileStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  [1m[36mFileStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "file_storage_attachments" WHERE "file_storage_attachments"."id" = ?[0m  [["id", 15]]
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/posts" for ::1 at 2019-05-05 13:18:24 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ↳ app/views/posts/index.html.erb:15
  Rendered posts/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 424ms (Views: 372.7ms | ActiveRecord: 0.5ms)


Started GET "/posts/new" for ::1 at 2019-05-05 13:18:27 +0900
Processing by PostsController#new as HTML
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (22.2ms)
  Rendered posts/new.html.erb within layouts/application (32.9ms)
Completed 200 OK in 93ms (Views: 51.2ms | ActiveRecord: 0.4ms)


Started POST "/posts" for ::1 at 2019-05-05 13:18:49 +0900
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pK1MnaVegBBrOhVQ2h2+5tWZdRcmtOaDpIG5LUvoks70GfOexWNesgiPlqerC0kv6YYxHM6FP83htH/jds9vnA==", "post"=>{"title"=>"ffff", "content"=>"ffffff", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fdf144b4f10 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-ryn575.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">, "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fdf144b4d58 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-kotm6i.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fdf144b4b00 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-hwjfr3.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fdf144b4a38 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-1cianxd.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Create Post"}
Completed 500 Internal Server Error in 856ms (ActiveRecord: 0.7ms)


  
Errno::ENOENT (No such file or directory @ rb_sysopen - /Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/projects/2019-05-05_041850/_MG_7017.JPG):
  
app/controllers/posts_controller.rb:27:in `create'
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
Started POST "/posts" for ::1 at 2019-05-05 13:22:30 +0900
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AetaQhzsoQw3Zq1ep5VohO57wOUaUm9g8mnFHkOtcJXHJV0bUiaJhiJeZt85DaHmRBUsKgz8iO6JBbjhMMO11Q==", "post"=>{"title"=>"ffff", "content"=>"ffffff", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007fdf12ddcf68 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-1dvotta.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">, "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007fdf12ddcba8 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-1rdjgpf.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fdf12ddc9f0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-jtnsru.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fdf12ddc798 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-11122-1150i6v.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Create Post"}
Completed 500 Internal Server Error in 484ms (ActiveRecord: 0.0ms)


  
Errno::ENOENT (No such file or directory @ rb_sysopen - /Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/projects/2019-05-05_042231/_MG_7017.JPG):
  
app/controllers/posts_controller.rb:27:in `create'
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
Started POST "/posts" for ::1 at 2019-05-05 13:24:08 +0900
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/apple/.rvm/gems/ruby-2.6.1/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AetaQhzsoQw3Zq1ep5VohO57wOUaUm9g8mnFHkOtcJXHJV0bUiaJhiJeZt85DaHmRBUsKgz8iO6JBbjhMMO11Q==", "post"=>{"title"=>"ffff", "content"=>"ffffff", "resume"=>#<ActionDispatch::Http::UploadedFile:0x00007ffc4f2b6878 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-17615-1bho7kr.jpeg>, @original_filename="KakaoTalk_Photo_2018-07-12-21-59-15.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[resume]\"; filename=\"KakaoTalk_Photo_2018-07-12-21-59-15.jpeg\"\r\nContent-Type: image/jpeg\r\n">, "projects"=>[#<ActionDispatch::Http::UploadedFile:0x00007ffc4f2b6800 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-17615-1527i56.JPG>, @original_filename="_MG_7015.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7015.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007ffc4f2b67b0 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-17615-1iie1s6.JPG>, @original_filename="_MG_7017.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7017.JPG\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007ffc4f2b6760 @tempfile=#<Tempfile:/var/folders/x2/wrj4h0mj4s58kw7fbwyrz3_c0000gn/T/RackMultipart20190505-17615-1211iav.JPG>, @original_filename="_MG_7019.JPG", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"post[projects][]\"; filename=\"_MG_7019.JPG\"\r\nContent-Type: image/jpeg\r\n">]}, "commit"=>"Create Post"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "ffff"], ["content", "ffffff"], ["created_at", "2019-05-05 04:24:09.326883"], ["updated_at", "2019-05-05 04:24:09.326883"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "resume"], ["record_type", "Post"], ["record_id", 5], ["namespace", "post/resume/2019-05-05-0424"], ["original_filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filename", "KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/resume/2019-05-05-0424/KakaoTalk_Photo_2018-07-12-21-59-15.jpeg"], ["created_at", "2019-05-05 04:24:09.328580"], ["updated_at", "2019-05-05 04:24:09.328580"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 5], ["namespace", "post/projects/2019-05-05-0424"], ["original_filename", "_MG_7015.JPG"], ["filename", "_MG_7015.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/projects/2019-05-05-0424/_MG_7015.JPG"], ["created_at", "2019-05-05 04:24:09.329917"], ["updated_at", "2019-05-05 04:24:09.329917"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 5], ["namespace", "post/projects/2019-05-05-0424"], ["original_filename", "_MG_7017.JPG"], ["filename", "_MG_7017.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/projects/2019-05-05-0424/_MG_7017.JPG"], ["created_at", "2019-05-05 04:24:09.331242"], ["updated_at", "2019-05-05 04:24:09.331242"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mFileStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "file_storage_attachments" ("name", "record_type", "record_id", "namespace", "original_filename", "filename", "filepath", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "projects"], ["record_type", "Post"], ["record_id", 5], ["namespace", "post/projects/2019-05-05-0424"], ["original_filename", "_MG_7019.JPG"], ["filename", "_MG_7019.JPG"], ["filepath", "/Users/apple/Desktop/project/gomi/rubygems/file_storage/test/dummy_app/public/file_storage/post/projects/2019-05-05-0424/_MG_7019.JPG"], ["created_at", "2019-05-05 04:24:09.333274"], ["updated_at", "2019-05-05 04:24:09.333274"]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2019-05-05 04:24:09.334431"], ["id", 5]]
  ↳ app/controllers/posts_controller.rb:30
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/posts_controller.rb:30
Redirected to http://localhost:3000/posts/5
Completed 302 Found in 790ms (ActiveRecord: 4.6ms)


Started GET "/posts/5" for ::1 at 2019-05-05 13:24:09 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/posts_controller.rb:67
  Rendering posts/show.html.erb within layouts/application
  [1m[36mFileStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Post"], ["name", "resume"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/one.rb:14
  [1m[36mFileStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Post"], ["name", "projects"], ["LIMIT", 1]]
  ↳ /Users/apple/Desktop/project/gomi/rubygems/file_storage/lib/file_storage/attached/many.rb:41
  [1m[36mFileStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "file_storage_attachments".* FROM "file_storage_attachments" WHERE "file_storage_attachments"."record_id" = ? AND "file_storage_attachments"."record_type" = ? AND "file_storage_attachments"."name" = ?[0m  [["record_id", 5], ["record_type", "Post"], ["name", "projects"]]
  ↳ app/views/posts/show.html.erb:23
  Rendered posts/show.html.erb within layouts/application (159.0ms)
Completed 200 OK in 1313ms (Views: 843.6ms | ActiveRecord: 1.9ms)


